<div th:replace="fragments/header-with-sidebar"></div>


<div class="container">
    <h3>Add Manager</h3>
     
    <form method="post"
          role="form"
          th:action="@{/admin/user-save}"
          th:object="${user}">

      <input
          name="id"
          th:field="*{id}"
          type="hidden"
      />

      <div class="mb-3">
        <label class="form-label">Full Name</label>
        <input
          class="form-control"
          id="name"
          name="name"
          placeholder="Enter full name"
          th:field="*{name}"
          type="text"
        />
        <p th:errors = "*{name}" class="text-danger"
              th:if="${#fields.hasErrors('name')}"></p>
        
      </div>

      <div class="form-group mb-3">
        <label class="form-label">Email</label>
        <input
                class="form-control"
                id="email"
                name="email"
                placeholder="Enter email address"
                th:field="*{email}"
                type="email"
        />
        <p th:errors = "*{email}" class="text-danger"
           th:if="${#fields.hasErrors('email')}"></p>
      </div>

      <div class="mb-3" id="select-img-block">
        <label class="form-label">Roles</label>
        <select th:field="*{roles}" multiple class="w-100">
            <option th:each="role : ${rolesList}" 
                    th:value="${role.id}" 
                    th:text="${role.name}" 
                    th:selected="${user.roles.contains(role.id)}"
                    data-placeholder="Select roles"></option>
        </select>
        <p th:errors = "*{roles}" class="text-danger"
           th:if="${#fields.hasErrors('roles')}"></p>
      </div>


      <div class="form-group">
        <button class="btn btn-primary" type="submit">Save</button>
      </div>
    </form>
</div>


<div th:replace="fragments/footer"></div>

